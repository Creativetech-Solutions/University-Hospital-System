AUI.add("aui-datepicker-select",function(x){var ar=x.Lang,J=ar.isArray,D=function(A){return x.one(A);},g=function(){return x.Node.create(aa);},U=x.config.doc,h="appendOrder",z="",ag="body",ak="boundingBox",al="button",e="buttonitem",q="buttonNode",ah="calendar",f="clearfix",O="contentBox",ac="content",Y="currentDay",L="currentMonth",R="currentYear",Z="data-auiComponentID",v="datepicker",aq="day",B="dayNode",k="dayNodeName",c="display",F=".",ae="helper",G="id",ai="maxDate",ab="minDate",m="month",i="monthNode",V="monthNodeName",T="name",aj="nullableDay",M="nullableMonth",Q="nullableYear",w="option",ap="populateDay",y="populateMonth",ao="populateYear",C="select",N="selected",l="selectWrapperNode",b=" ",p="srcNode",j="trigger",an="wrapper",H="year",ad="yearNode",X="yearNodeName",K="yearRange",am=x.getClassName,t=am(e),P=am(v),E=am(v,al,an),I=am(v,aq),S=am(v,c),s=am(v,c,ac),d=am(v,m),af=am(v,C,an),r=am(v,H),n=am(ae,f),aa="<select></select>",u="<option></option>",a='<div class="'+E+'"></div>',o="<div class="+af+"></div>";var W=x.Component.create({NAME:v,ATTRS:{appendOrder:{validator:J,value:["m","d","y"]},buttonNode:{},calendar:{value:{}},dayNode:{setter:D,valueFn:g},dayNodeName:{valueFn:function(){return this.get(B).get(T)||aq;}},monthNode:{setter:D,valueFn:g},monthNodeName:{valueFn:function(){return this.get(i).get(T)||m;}},nullableDay:{value:false},nullableMonth:{value:false},nullableYear:{value:false},populateDay:{value:true},populateMonth:{value:true},populateYear:{value:true},selectWrapperNode:{valueFn:function(){return x.Node.create(o);}},trigger:{setter:function(A){if(A instanceof x.NodeList){return A;}else{if(ar.isString(A)){return x.all(A);}}return new x.NodeList(A);},valueFn:function(){return x.NodeList.create(a);}},yearNode:{setter:D,valueFn:g},yearNodeName:{valueFn:function(){return this.get(ad).get(T)||H;}},yearRange:{validator:J,valueFn:function(){var A=new Date().getFullYear();return[A-10,A+10];}}},HTML_PARSER:{buttonNode:F+t,dayNode:F+I,monthNode:F+d,selectWrapperNode:F+af,trigger:F+E,yearNode:F+r},EXTENDS:x.Component,prototype:{bindUI:function(){var A=this;A._bindSelectEvents();A.after("calendar:clear",A._afterClearDate);A.after("calendar:select",A._afterSelectDate);},destructor:function(){var A=this;A.datePicker.destroy();},renderUI:function(){var A=this;A._renderElements();A._renderTriggerButton();A._renderCalendar();},syncUI:function(){var A=this;A._syncSelectsUI();},_afterClearDate:function(at){var A=this;if(A.get(aj)&&A.get(M)&&A.get(Q)){A.get(B).val(-1);A.get(i).val(-1);A.get(ad).val(-1);}},_afterSelectDate:function(at){var A=this;if(at.date.normal.length){A._syncSelectsUI();}},_bindSelectEvents:function(){var A=this;var at=A.get(l).all(C);at.on("change",A._onSelectChange,A);at.on("keypress",A._onSelectChange,A);},_getAppendOrder:function(){var at=this;var av=at.get(h);var ay=at.get(G);var aw={d:at.get(B),m:at.get(i),y:at.get(ad)};var ax=aw[av[0]];var A=aw[av[1]];var au=aw[av[2]];ax.setAttribute(Z,ay);A.setAttribute(Z,ay);au.setAttribute(Z,ay);return[ax,A,au];},_onSelectChange:function(A){var aA=this;var aw=A.currentTarget||A.target;var at=aw.test(F+d);var ax=aA.get(B).val();var ay=aA.get(i).val();var av=aA.get(ad).val();var au=(ax>-1);var aB=(ay>-1);var az=(av>-1);if(au){aA.calendar.set(Y,ax);}if(aB){aA.calendar.set(L,ay);}if(az){aA.calendar.set(R,av);}if(at){aA._uiSetCurrentMonth();if(au){aA._selectCurrentDay();}}if(au){aA.calendar.selectCurrentDate();}if(!au||!aB||!az){aA.calendar.clear();}},_populateDays:function(){var A=this;if(A.get(ap)){A._populateSelect(A.get(B),1,A.calendar.getDaysInMonth(),null,null,A.get(aj));}},_populateMonths:function(){var at=this;var A=at.calendar._getLocaleMap();var au=A.B;if(at.get(y)){at._populateSelect(at.get(i),0,(au.length-1),au,null,at.get(M));}},_populateYears:function(){var A=this;var at=A.get(K);if(A.get(ao)){A._populateSelect(A.get(ad),at[0],at[1],null,null,A.get(Q));}},_populateSelect:function(aA,az,at,av,aC,ax){var au=0;var aw=az;var A=x.Node.getDOMNode(aA);aA.empty();av=av||[];aC=aC||[];if(ax){A.options[0]=new Option(z,-1);au++;}while(aw<=at){var aB=aC[aw]||aw;var ay=av[aw]||aw;A.options[au]=new Option(ay,aw);au++;aw++;}},_populateSelects:function(){var aC=this;aC._populateDays();aC._populateMonths();aC._populateYears();var aB=aC.get(i).all(w);var aD=aC.get(ad).all(w);var az=aB.size()-1;var at=aD.size()-1;var au=aB.item(0).val();var ax=aD.item(0).val();var aA=aB.item(az).val();var ay=aD.item(at).val();var av=aC.calendar.getDaysInMonth(ay,aA);var aw=new Date(ax,au,1);var A=new Date(ay,aA,av);aC.calendar.set(ai,A);aC.calendar.set(ab,aw);},_renderCalendar:function(){var A=this;var at={calendar:A.get(ah),trigger:A.get(j).item(0)};var au=new x.DatePicker(at).render();au.addTarget(A);A.datePicker=au;A.calendar=au.calendar;},_renderElements:function(){var aA=this;var av=aA.get(ak);var az=aA.get(O);var A=aA.get(B);var at=aA.get(i);var ax=aA.get(ad);A.addClass(I);at.addClass(d);ax.addClass(r);av.addClass(S);av.addClass(n);az.addClass(s);at.set(T,aA.get(V));ax.set(T,aA.get(X));A.set(T,aA.get(k));if(!at.inDoc(x.config.doc)){var aw=aA.get(l);var ay=aA._getAppendOrder();var au=x.one(U.createTextNode(b));aw.append(ay[0]);aw.append(au.clone());aw.append(ay[1]);aw.append(au);aw.append(ay[2]);az.append(aw);}},_renderTriggerButton:function(){var A=this;var at=A.get(j).item(0);A._buttonItem=new x.ButtonItem({boundingBox:A.get(q),icon:ah});A.get(O).append(at);at.setAttribute(Z,A.get(G));if(at.test(F+E)){A._buttonItem.render(at);}},_selectCurrentDay:function(){var A=this;var at=A.calendar.getCurrentDate();A.get(B).val(String(at.getDate()));},_selectCurrentMonth:function(){var A=this;var at=A.calendar.getCurrentDate();A.get(i).val(String(at.getMonth()));},_selectCurrentYear:function(){var A=this;var at=A.calendar.getCurrentDate();A.get(ad).val(String(at.getFullYear()));},_syncSelectsUI:function(){var A=this;A._populateSelects();A._selectCurrentDay();A._selectCurrentMonth();A._selectCurrentYear();},_uiSetCurrentMonth:function(at){var A=this;A._populateDays();
},_uiSetDisabled:function(at){var A=this;W.superclass._uiSetDisabled.apply(A,arguments);A.get(B).set("disabled",at);A.get(i).set("disabled",at);A.get(ad).set("disabled",at);}}});x.DatePickerSelect=W;},"@VERSION@",{skinnable:true,requires:["aui-datepicker-base","aui-button-item"]});