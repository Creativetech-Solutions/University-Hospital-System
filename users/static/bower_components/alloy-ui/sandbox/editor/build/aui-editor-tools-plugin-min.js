AUI.add("aui-editor-tools-plugin",function(B){var F=B.Lang,G="justify",E={div:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,p:true},C='<div style="text-align: {0};">{1}</div>';var D={};B.namespace("Plugin");B.mix(B.Plugin.ExecCommand.COMMANDS,{justify:function(J,I){var N=this;var O=N.get("host"),H=O.getInstance();var M=new H.Selection(),L=M.getSelected(),K=false;if(M.isCollapsed||!L.size()){var A=M.anchorTextNode;L=[A];K=true;}B.each(L,function(R){var P=R.get("tagName"),Q=R.ancestor(),S=null;if(P){P=P.toLowerCase();}if(!R.test("body")&&R.getComputedStyle("textAlign")==I){return;}if(E[P]||R.getComputedStyle("display")=="block"){S=R;}else{if(!Q.get("childNodes").item(1)){P=Q.get("tagName").toLowerCase();if(E[P]||Q.getComputedStyle("display")=="block"){S=Q;}}else{if(K){O.execCommand("inserthtml",F.sub(C,[I,H.Selection.CURSOR]));M.focusCursor(true,true);return;}else{S=B.Node.create(F.sub(C,[I,""]));Q.insert(S,R);S.append(R);}}}S.setStyle("textAlign",I);});},justifycenter:function(){var A=this;var H=A.get("host");return H.execCommand(G,"center");},justifyleft:function(){var A=this;var H=A.get("host");return H.execCommand(G,"left");},justifyright:function(){var A=this;var H=A.get("host");return H.execCommand(G,"right");},subscript:function(){var A=this;var H=A.get("host");return H.execCommand("wrap","sub");},superscript:function(){var A=this;var H=A.get("host");return H.execCommand("wrap","sup");},wraphtml:function(K,M){var A=this;var J=A.get("host"),L=J.getInstance();var I=new L.Selection(),H=I.getSelected();if(!I.isCollapsed&&H.size()){H.each(function(P){var O=P.ancestor();var Q=B.Node.create(M);if(Q.html()!=""){if(Q.html()=="{0}"){Q.html("");}else{function N(R){var S=null;var T=R.get("childNodes");T.some(function(U){if(U.get("innerHTML")=="{0}"){S.html("");S=U;return true;}return N(U);});if(S){Q=S;return true;}return false;}N(Q);}}O.insert(Q,P);Q.append(P);});}else{J.execCommand("inserthtml",F.sub(M,[L.Selection.CURSOR]));if(M.indexOf("{0}")!=-1){I.focusCursor(true,true);}}}});B.Plugin.EditorTools=D;},"@VERSION@",{requires:["aui-base","editor-base"]});