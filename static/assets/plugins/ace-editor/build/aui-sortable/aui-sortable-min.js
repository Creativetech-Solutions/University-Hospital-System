AUI.add("aui-sortable",function(c){var f=c.Lang,d=c.getClassName,l="sortable",j=c.DD.DDM,i=d(l,"dragging"),e=d(l,"handle"),k=d(l,"item"),b=d(l,"no-handles"),g=d(l,"proxy");var a=c.Component.create({NAME:l,ATTRS:{dd:{value:{}},constrain:{},container:{value:null},groups:{valueFn:function(){var m=this;return[c.guid()];}},nodes:{value:null,setter:function(o){var m=this;var n=m.get("container");if(!(o instanceof c.NodeList)){if(f.isString(o)){if(n){o=n.all(o);}else{o=c.all(o);}}}if(o instanceof c.NodeList&&o.size()){m.set("container",o.item(0).get("parentNode"));}else{o=c.Attribute.INVALID_VALUE;}return o;}},placeholder:{},proxy:{}},EXTENDS:c.Base,prototype:{initializer:function(){var m=this;var n=m.get("nodes");var q=m.get("constrain");m._useConstrain=!!q;if(f.isObject(q)){m._constrainConfig=q;}var p=m.get("proxy");m._useProxy=!!p;if(f.isObject(p)){m._proxyConfig=p;}var o=m.get("dd");m._ddConfig=o;m._ddConfig=c.mix(m._ddConfig,{bubbleTargets:m,groups:m.get("groups"),placeholder:m.get("placeholder"),constrain:m.get("constrain"),proxy:m.get("proxy")});if(n){n.each(m.add,m);}m.after("drag:drag",m._onDrag);m.after("drag:end",m._onDragEnd);m.after("drag:over",m._onDragOver);m.after("drag:start",m._onDragStart);},add:function(q){var n=this;if(q){var o=n._ddConfig;if((q instanceof c.Node)||f.isString(q)||q.nodeName){q=c.one(q);o.node=q;}else{if(f.isObject(q)){c.mix(q,o);o=q;}}var p=n.getSortableItem();var m=new p(o);}},getSortableItem:function(){var m=this;return h;},_onDrag:function(m){var v=this;var r=m.target;var q=r.lastXY;var t=q[0];var s=q[1];var o=v._lastX;var n=v._lastY;var u=Math.abs(t-o);var p=Math.abs(s-n);v._goingUp=((t<o)&&u)||((s<n)&&p);v._lastX=t;v._lastY=s;c.later(50,j,j.syncActiveShims);},_onDragEnd:function(p){var m=this;var n=p.target;var o=n.get("node");o.removeClass(i);},_onDragOver:function(s){var m=this;var p=0;var r=c.DD.DDM;var q=s.drag;var n=s.drop;var o=n.get("node");var t="placeBefore";if(!m._goingUp){t="placeAfter";}o[t](q.get("placeholder"));n.sizeShim();},_onDragStart:function(p){var m=this;var n=p.target;var o=n.get("node");o.addClass(i);},_lastX:0,_lastY:0}});var h=c.Component.create({NAME:"sortableitem",ATTRS:{constrain:{value:null},placeholder:{getter:function(){var m=this;return m.get("node");}},proxy:{value:{borderStyle:0,moveOnEnd:false}},target:{value:true},syncPlaceholderSize:{value:true}},EXTENDS:c.DD.Drag,prototype:{initializer:function(){var m=this;var n=m.get("node");n.dd=m;n.addClass(k);m._useProxy=m.get("proxy");m.bindUI();m._initHandles();m._initConstrain();m._initProxy();},bindUI:function(){var m=this;m.on("drag:end",m._onDragEnd);m.on("drag:start",m._onDragStart);},_initHandles:function(){var m=this;var o=m.get("handles");var p=m.get("node");if(o){for(var n=o.length-1;n>=0;n--){var q=o[n];p.all(q).addClass(e);}}else{p.addClass(b);}m.removeInvalid("a");},_initConstrain:function(){var m=this;var n=m.get("constrain");if(!!n){if(!f.isObject(n)){n=null;}m.plug(c.Plugin.DDConstrained,n);}},_initProxy:function(){var m=this;var n=m.get("proxy");if(!!n){if(!f.isObject(n)){n=null;}m.plug(c.Plugin.DDProxy,n);}},_onDragEnd:function(o){var m=this;var n=o.target;if(m._useProxy){n.get("dragNode").removeClass(g);}},_onDragStart:function(o){var m=this;var n=o.target;if(m._useProxy){n.get("dragNode").addClass(g);}}}});c.Sortable=a;c.SortableItem=h;},"@VERSION@",{requires:["aui-base","dd-constrain","dd-drag","dd-drop","dd-proxy"],skinnable:true});