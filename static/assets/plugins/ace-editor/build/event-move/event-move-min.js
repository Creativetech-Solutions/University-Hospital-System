/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.4.0
build: nightly
*/
YUI.add("event-move",function(e){var s=e.UA,j=((s.mobile||s.android||s.ios)&&s.touch)?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},y="start",D="move",h="end",l="gesture"+D,a=l+h,i=l+y,C="_msh",m="_mh",x="_meh",r="_dmsh",o="_dmh",c="_dmeh",g="_ms",t="_m",A="minTime",u="minDistance",v="preventDefault",b="button",w="ownerDocument",n="currentTarget",p="target",q="nodeType",k=function(I,G,H){var E=(H)?4:3,F=(G.length>E)?e.merge(G.splice(E,1)[0]):{};if(!(v in F)){F[v]=I.PREVENT_DEFAULT;}return F;},f=function(F,E){return E._extra.root||(F.get(q)===9)?F:F.get(w);},z=function(E,G,F){E.pageX=G.pageX;E.pageY=G.pageY;E.screenX=G.screenX;E.screenY=G.screenY;E.clientX=G.clientX;E.clientY=G.clientY;E[p]=E[p]||G[p];E[n]=E[n]||G[n];E[b]=(F&&F[b])||1;},B=function(F,E){if(E){if(!E.call||E(F)){F.preventDefault();}}},d=e.Event.define;d(i,{on:function(F,E,G){E[C]=F.on(j[y],this._onStart,this,F,E,G);},delegate:function(G,F,I,E){var H=this;F[r]=G.delegate(j[y],function(J){H._onStart(J,G,F,I,true);},E);},detachDelegate:function(G,F,I,E){var H=F[r];if(H){H.detach();F[r]=null;}},detach:function(F,E,H){var G=E[C];if(G){G.detach();E[C]=null;}},processArgs:function(E,F){var G=k(this,E,F);if(!(A in G)){G[A]=this.MIN_TIME;}if(!(u in G)){G[u]=this.MIN_DISTANCE;}return G;},_onStart:function(K,F,Q,E,M){if(M){F=K[n];}var G=Q._extra,P=true,H=G[A],O=G[u],I=G.button,J=G[v],N=f(F,Q),L;if(K.touches){if(K.touches.length===1){z(K,K.touches[0],G);}else{P=false;}}else{P=(I===undefined)||(I===K.button);}if(P){B(K,J);if(H===0||O===0){this._start(K,F,E,G);}else{L=[K.pageX,K.pageY];if(H>0){G._ht=e.later(H,this,this._start,[K,F,E,G]);G._hme=N.on(j[h],e.bind(function(){this._cancel(G);},this));}if(O>0){G._hm=N.on(j[D],e.bind(function(R){if(Math.abs(R.pageX-L[0])>O||Math.abs(R.pageY-L[1])>O){this._start(K,F,E,G);}},this));}}}},_cancel:function(E){if(E._ht){E._ht.cancel();E._ht=null;}if(E._hme){E._hme.detach();E._hme=null;}if(E._hm){E._hm.detach();E._hm=null;}},_start:function(G,E,F,H){if(H){this._cancel(H);}G.type=i;E.setData(g,G);F.fire(G);},MIN_TIME:0,MIN_DISTANCE:0,PREVENT_DEFAULT:false});d(l,{on:function(G,F,I){var E=f(G,F),H=E.on(j[D],this._onMove,this,G,F,I);F[m]=H;},delegate:function(G,F,I,E){var H=this;F[o]=G.delegate(j[D],function(J){H._onMove(J,G,F,I,true);},E);},detach:function(F,E,H){var G=E[m];if(G){G.detach();E[m]=null;}},detachDelegate:function(G,F,I,E){var H=F[o];if(H){H.detach();F[o]=null;}},processArgs:function(E,F){return k(this,E,F);},_onMove:function(K,I,H,J,G){if(G){I=K[n];}var E=H._extra.standAlone||I.getData(g),F=H._extra.preventDefault;if(E){if(K.touches){if(K.touches.length===1){z(K,K.touches[0]);}else{E=false;}}if(E){B(K,F);K.type=l;J.fire(K);}}},PREVENT_DEFAULT:false});d(a,{on:function(H,G,I){var F=f(H,G),E=F.on(j[h],this._onEnd,this,H,G,I);G[x]=E;},delegate:function(G,F,I,E){var H=this;F[c]=G.delegate(j[h],function(J){H._onEnd(J,G,F,I,true);},E);},detachDelegate:function(G,F,I,E){var H=F[c];if(H){H.detach();F[c]=null;}},detach:function(G,F,H){var E=F[x];if(E){E.detach();F[x]=null;}},processArgs:function(E,F){return k(this,E,F);},_onEnd:function(K,I,G,J,F){if(F){I=K[n];}var H=G._extra.standAlone||I.getData(t)||I.getData(g),E=G._extra.preventDefault;if(H){if(K.changedTouches){if(K.changedTouches.length===1){z(K,K.changedTouches[0]);}else{H=false;}}if(H){B(K,E);K.type=a;J.fire(K);I.clearData(g);I.clearData(t);}}},PREVENT_DEFAULT:false});},"3.4.0",{requires:["node-base","event-touch","event-synthetic"]});