AUI.add("aui-datasource-control-base",function(b){var g=b.Lang,h=g.isFunction,a=g.isString,f="bindUI",c="renderUI",e="syncUI";var d=function(){};d.ATTRS={dataSource:{value:null,setter:function(n){var i=this;var m=n;if(n){var k=m;var l=i.get("dataSourceType");if(!(m instanceof b.DataSource.Local)){if(!l){l="Local";if(h(k)){l="Function";}else{if(a(k)){l="IO";}}}m=new b.DataSource[l]({source:k});}l=m.name;var j=i._schema;if(j){m.plug(j);}i.set("dataSourceType",l);}return m;}},dataSourceType:{value:null},schema:{value:null,lazyAdd:false,setter:function(n){var i=this;var m=i.get("dataSource");var l=i._schema;if(m&&l){m.unplug(l);l=null;i._schema=null;}if(n){if(n.fn){l=n;n=n.cfg.schema;}else{var j=i.get("schemaType");var k={array:b.Plugin.DataSourceArraySchema,json:b.Plugin.DataSourceJSONSchema,text:b.Plugin.DataSourceTextSchema,xml:b.Plugin.DataSourceXMLSchema};j=j.toLowerCase()||"array";l={fn:k[j],cfg:{schema:n}};}}if(m&&l){m.plug(l);}i._schema=l;return n;}},schemaType:{value:"",lazyAdd:false,validator:a}};d.prototype={initializer:function(){var i=this;i.publish(c);i.publish(f);i.publish(e);},renderUI:function(){var i=this;i.fire(c);},bindUI:function(){var i=this;i.publish("dataError");i.publish("dataRequest");i.publish("dataReturn");i.fire(f);},syncUI:function(){var i=this;i.fire(e);}};b.DataSourceControl=d;},"@VERSION@",{requires:["aui-base","datasource","dataschema"]});